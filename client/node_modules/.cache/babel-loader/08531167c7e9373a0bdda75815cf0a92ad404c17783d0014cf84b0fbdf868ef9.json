{"ast":null,"code":"import _defineProperty from\"/Users/kmthomas/code/jobify/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/kmthomas/code/jobify/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/kmthomas/code/jobify/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{Logo,FormRow,Alert}from'../components';import Wrapper from'../assets/wrappers/RegisterPage';import{useAppContext}from'../context/appContext';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialState={name:'',email:'',password:'',isMember:true};var Register=function Register(){var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var navigate=useNavigate();// actions in reducer is what changing\nvar _useAppContext=useAppContext(),user=_useAppContext.user,isLoading=_useAppContext.isLoading,showAlert=_useAppContext.showAlert,displayAlert=_useAppContext.displayAlert,registerUser=_useAppContext.registerUser,loginUser=_useAppContext.loginUser;var toggleMember=function toggleMember(){setValues(_objectSpread(_objectSpread({},values),{},{isMember:!values.isMember}));};//the {...values} the dots allows get all current values in the state and the able to dynamically access the property that is equal to the name of the input\nvar handleChange=function handleChange(e){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();var name=values.name,email=values.email,password=values.password,isMember=values.isMember;if(!email||!password||!isMember&&!name){displayAlert();return;}var currentUser={name:name,email:email,password:password};if(isMember){loginUser(currentUser);}else{registerUser(currentUser);}};//invokes on initial render and when user or navigate changes\nuseEffect(function(){if(user){setTimeout(function(){navigate('/');},3000);}},[user,navigate]);return/*#__PURE__*/_jsx(Wrapper,{className:\"full-page\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(Logo,{}),/*#__PURE__*/_jsx(\"h3\",{children:values.isMember?'Login':'Register'}),showAlert&&/*#__PURE__*/_jsx(Alert,{}),!values.isMember&&/*#__PURE__*/_jsx(FormRow,{type:\"text\",name:\"name\",value:values.name,handleChange:handleChange}),/*#__PURE__*/_jsx(FormRow,{type:\"email\",name:\"email\",value:values.email,handleChange:handleChange}),/*#__PURE__*/_jsx(FormRow,{type:\"password\",name:\"password\",value:values.password,handleChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-block\",disabled:isLoading,children:\"submit\"}),/*#__PURE__*/_jsxs(\"p\",{children:[values.isMember?'Not a member yet?':'Already a member?',/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:toggleMember,className:\"member-btn\",children:values.isMember?'Register':'Login'})]})]})});};export default Register;","map":{"version":3,"names":["useState","useEffect","Logo","FormRow","Alert","Wrapper","useAppContext","useNavigate","initialState","name","email","password","isMember","Register","values","setValues","navigate","user","isLoading","showAlert","displayAlert","registerUser","loginUser","toggleMember","handleChange","e","target","value","onSubmit","preventDefault","currentUser","setTimeout"],"sources":["/Users/kmthomas/code/jobify/client/src/pages/Register.js"],"sourcesContent":["import { useState, useEffect} from 'react'\nimport { Logo, FormRow, Alert } from '../components'\nimport Wrapper from '../assets/wrappers/RegisterPage'\nimport { useAppContext } from '../context/appContext'\nimport {useNavigate} from 'react-router-dom'\n\nconst initialState = {\n    name: '',\n    email: '',\n    password: '',\n    isMember: true,\n}\nconst Register = () => {\n    const [values, setValues] = useState(initialState)\n    const navigate = useNavigate ()\n    // actions in reducer is what changing\n    const {user, isLoading,showAlert,displayAlert, registerUser, loginUser} = useAppContext()\n\n    const toggleMember = () =>{\n        setValues({...values,isMember:!values.isMember})\n    }\n\n\n     //the {...values} the dots allows get all current values in the state and the able to dynamically access the property that is equal to the name of the input\n\n    const handleChange = (e) => {\n       setValues({ ...values, [e.target.name]: e.target.value})\n    }\n    const onSubmit = (e) => {\n        e.preventDefault()\n        const {name, email, password, isMember} =values\n        if(!email || !password || (!isMember && !name)){\n            displayAlert()\n            return\n        }\n\n        const currentUser = {name, email, password}\n        if(isMember){\n           loginUser(currentUser)\n        }\n        else{\n            registerUser(currentUser)\n        }\n    }\n\n\n    //invokes on initial render and when user or navigate changes\n    useEffect(() => {\n        if(user){\n            setTimeout(() => {\n                navigate('/')\n            }, 3000)\n            \n        }\n    },[user,navigate])\n\n\n  return (\n   <Wrapper className='full-page'>\n    <form className='form' onSubmit={onSubmit}>\n        <Logo />\n        <h3>{values.isMember ? 'Login' : 'Register'}</h3>\n        {showAlert && <Alert/>}\n        {/*name input */}\n        {!values.isMember && (\n            <FormRow \n            type='text' \n            name='name' \n            value={values.name} \n            handleChange={handleChange}\n            />\n        )}\n         {/*email input */}\n         <FormRow \n            type='email' \n            name='email' \n            value={values.email} \n            handleChange={handleChange}\n        />\n         {/*password input */}\n         <FormRow \n            type='password' \n            name='password' \n            value={values.password} \n            handleChange={handleChange}\n        />\n    <button type='submit' className='btn btn-block'\n    disabled={isLoading}>\n        submit\n    </button>\n    <p>\n        {values.isMember?'Not a member yet?':'Already a member?'}\n        <button type='button' onClick={toggleMember}\n        className='member-btn'>\n            {values.isMember ? 'Register' : 'Login'}\n        </button>\n    </p>\n    </form>\n   </Wrapper>\n  )\n}\nexport default Register"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}